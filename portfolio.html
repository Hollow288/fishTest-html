<!DOCTYPE html>
<html lang="en">
<head>
    <!-- meta -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Cupboard">
    <meta name="description" content="Cupboard - Cabinet HTML">
    <meta name="author" content="Hollow">
    <!-- title -->
    <title>Portfolio - Cabinet HTML</title>
    <!-- favicon icon -->

    <!-- CSS -->
    <link rel="stylesheet" href="static/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/fonts.css">
    <link rel="stylesheet" href="static/css/all.min.css">
    <link rel="stylesheet" href="static/css/animate.css">
    <link rel="stylesheet" href="static/css/slick.css">
    <link rel="stylesheet" href="static/css/fancybox.css">
    <link rel="stylesheet" href="static/css/style.css">
    <link rel="stylesheet" href="static/css/responsive.css">
    <link rel="stylesheet" href="static/css/portfollostyle.css">
    <!-- 引入样式 -->
    <link rel="stylesheet" href="static/js/element-ui/lib/theme-chalk/index.css">
   <style>
      .el-pagination.is-background .el-pager li:not(.disabled).active{
          background-color: #d7926b;
      }

      [v-cloak] {
          display: none;
      }
   </style>
</head>
<body>
<!-- Start Header -->
<div class="main-inner pt-20 pb-20 ps-3 pe-3 ps-md-0 pe-md-0">
    <nav class="navbar navbar-expand-lg p-0">
        <div class="container">
            <a href="index.html">
                <img src="static/picture/fish-icon.svg"  width="50" height="30">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <i class="fa-solid fa-bars fa-fw"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="index.html">主页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="about-us.html">关于我们</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="portfolio.html">工程案例</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="services.html">涉及业务</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="blog.html">新闻资讯</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">联系我们</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<!-- End Header -->
<main>
    <div id="app" v-cloak>
        <section class="about-hero-section ps-3 pe-3 ps-md-0 pe-md-0">
            <div class="container">
                <div class="row justify-content-center">
                    <h1 class="text-white mb-10">Portfolio</h1>
                    <div class="title-border"></div>
                </div>
            </div>
        </section>
        <el-container >
            <el-aside width="200px" style="background-color: rgb(238, 241, 246)" class="wow slideInLeft" >
                <el-menu  v-for="item in menuOptions" v-bind:key="item.key" :default-active="chooseOption" active-text-color="#d7926b">
<!--                   <el-menu-item-group >-->
<!--                      <template slot="title">案例分类</template>-->
                       <el-menu-item @click="menuOnclick(item)" :index='item.key' style="font-family: 'Alibaba-PuHuiTi',serif;">{{item.value}}
                       </el-menu-item>
<!--                         </el-menu-item-group>-->
                    <!--                     <el-menu-item index="1-2">选项2</el-menu-item>-->
                </el-menu>
            </el-aside>
            <el-main>
                <div class="container" style="margin-top: 80px " >
                    <div class="row" v-loading="loading">
                        <div class="grid-photo wow slideInRight" >
                            <div v-for="item in portFolioList" >
                                <a :href="item.panoramaUrl" data-fancybox="gallery">
                                    <photo-card :img="item.thumbnailUrl" link=""></photo-card>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="row" style="margin-top: 100px; text-align: right; ">
                        <el-pagination
                                background
                                layout="prev, pager, next"
                                :page-size="pageSize"
                                :total="total"
                                :current-page="currentPage"
                                @current-change="currentChange"
                                style=".el-pager active: #ffcf40">
                        </el-pagination>
                    </div>
                </div>
            </el-main>
        </el-container>
    </div>
    <!-- End Portfolio Section -->
</main>
<footer class="footer-section">
    <div class=" container">
        <div class="row  pt-80  pb-80  ps-3 pe-3 ps-md-0 pe-md-0">
            <div class="footer-item col-lg-3 col-md-6 ps-0 pe-0">
                <h4 class="text-white mb-20">Contact Us</h4>
                <div class="footer-contact-info d-flex flex-column">
                    <a href="tel:+1234567890">
                        <span>Call Now: </span>+123 456 7890 </a>
                    <a href="mailto:example@gmail.com" class="mt-3">
                        <span>Email: </span>example@gmail.com </a>
                    <a href="#" class="mt-3">
                        <span>Address: </span> 15 B-3 Lorem ipsum dolor Bali 80571 </a>
                </div>
            </div>
            <div class="footer-item col-lg-3 col-md-6 col-6 pt-3 pt-md-0 ps-0 pe-0">
                <h4 class="text-white mb-20">Quick Links</h4>
                <div class="footer-menu">
                    <ul>
                        <li class="mb-10">
                            <a href="index.html">Home</a>
                        </li>
                        <li class="mb-10">
                            <a href="about-us.html">About Us</a>
                        </li>
                        <li class="mb-10">
                            <a href="" class="active">Portfolio</a>
                        </li>
                        <li class="mb-10">
                            <a href="services.html">Services</a>
                        </li>
                        <li class="mb-10">
                            <a href="blog.html">Blog</a>
                        </li>
                        <li class="mb-10">
                            <a href="contact.html">Contact Us</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="footer-item col-lg-3 col-md-6 col-6 pt-3 pt-lg-0 ps-0 pe-0">
                <h4 class="text-white mb-20">Our Services</h4>
                <div class="footer-menu">
                    <ul>
                        <li class="mb-10">
                            <a href="#">Architecture & Interior</a>
                        </li>
                        <li class="mb-10">
                            <a href="#">Project Planning</a>
                        </li>
                        <li class="mb-10">
                            <a href="#">Custom Solutions</a>
                        </li>
                        <li class="mb-10">
                            <a href="#">Furniture & Decor</a>
                        </li>
                        <li class="mb-10">
                            <a href="#">Design Planning</a>
                        </li>
                        <li class="mb-10">
                            <a href="#">Urban Design</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="footer-item col-lg-3 col-md-6 pt-3 pt-lg-0 ps-0 pe-0 ">
                <h4 class="text-white mb-20">Subscribe</h4>
                <p class="text-white mb-10">Odio ut enim blandit volutpat etiam maecenas volutpat blandit aliquam </p>
                <div class="footer-form">
                    <form action="#" method="post" class="contact-form" id="contact-form">
                        <div class="form-row">
                            <div class="form-group d-flex">
                                <input type="email" class="form-control text-white" name="Email" placeholder="Email"
                                       required="">
                                <button class="btn" type="submit">
                                    <i class="fa-solid fa-location-arrow"></i>
                                </button>
                            </div>
                        </div>
                        <p id="contact-form-status"></p>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-copyright pt-3 pb-3 text-center">
        <p class="text-white">Copyright &copy; 2024.Company name All rights reserved.<a target="_blank"
                                                                                        href="https://sc.chinaz.com/moban/">&#x7F51;&#x9875;&#x6A21;&#x677F;</a>
        </p>
    </div>
</footer>
<!-- Start Footer Section -->
<!--      <footer class="footer-section" style="margin-top: 80px ">-->

<!--      </footer>-->
<!-- End Footer Section -->
<!--=== All js file ===-->
<script src="static/js/jquery-2.2.4.min.js"></script>
<script src="static/js/bootstrap.min.js"></script>
<script src="static/js/wow.min.js"></script>
<script src="static/js/slick.min.js"></script>
<script src="static/js/fancybox.umd.js"></script>
<script src="static/js/script.js"></script>
<script type="text/javascript" src='static/js/vue.js'></script>
<!-- 引入组件库 -->
<script src="static/js/element-ui/lib/index.js"></script>
<script>
    new Vue({
        el: '#app',
        data:{
            menuOptions: [],
            chooseOption: "",
            total: 0,
            currentPage:1,
            pageSize:8,
            loading:false,
            portFolioList:[],
            dataLoaded: false,
        },
        methods: {
            queryType(){
                let that = this
                $.ajax({
                    url: 'http://localhost:8999/fish-api/common/portal-type', // 后端接口地址
                    type: "GET",
                    headers: {
                        "Accept": "application/json, text/plain, */*"
                    },
                    success: function(response) {
                        that.menuOptions = response.data
                        that.loading = false
                    },
                    error: function(xhr, status, error) {
                        that.loading = false
                    }
                })
            },
            queryList(){
                let that = this
                $.ajax({
                    url: `http://localhost:8999/fish-api/common/portal-portfolio?type=${this.chooseOption}&page=${this.currentPage}&pageSize=${this.pageSize}`,
                    type: "GET",
                    headers: {
                        "Accept": "application/json, text/plain, */*"
                    },
                    success: function(response) {
                        that.portFolioList = response.data.data
                        that.total = response.data.total
                        that.loading = false
                    },
                    error: function(xhr, status, error) {
                        that.loading = false
                    }
                })
            },
            menuOnclick(item) {
                // 回退到第一页
               this.currentPage = 1;
               this.chooseOption = item.key;
                this.loading = true;
               this.queryList()
            },
            currentChange(val){
                this.currentPage = val
                let that = this;
                that.loading = true;
                this.queryList()
            }
        },
        mounted(){
            this.currentPage = 1;
            this.chooseOption = 'ztcg-code'
            this.total = 10;
            this.pageSize = 8;
            this.loading = true;
            this.queryList()
            this.queryType()
        }
    })
</script>
<script type="text/javascript" src="static/js/portfolloscript.js"></script>
</body>
</html>